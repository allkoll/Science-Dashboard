<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Science Dashboard</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>
<body>
    <div class="container">
        <h1 class="mt-5">Science Dashboard</h1>
        <p class="lead">Displaying data from the Science Dashboard as interactive charts.</p>
        
        <!-- Placeholder for Graphs -->
        <div id="chart1" class="mt-3"></div>
        <div id="chart2" class="mt-3"></div>
    </div>

    <script>
        // Updated JSON data
        const jsonData = [
            {
                "school": "Ben Franklin MS",
                "percentage": 100,
                "courses": ["Science 6", "Life Science", "Earth Science"]
            },
            {
                "school": "CBE MS",
                "percentage": 100,
                "courses": ["Science 6", "Life Science", "Earth Science"]
            },
            {
                "school": "Discovery MS",
                "percentage": 100,
                "courses": ["Science 6", "Life Science", "Earth Science"]
            },
            {
                "school": "North HS",
                "percentage": 18,
                "courses": ["Physical Science", "Environmental Science"]
            },
            {
                "school": "South HS",
                "percentage": 20,
                "courses": ["Physical Science", "Environmental Science"]
            },
            {
                "school": "Davies HS",
                "percentage": 90,
                "courses": [
                    "Physical Science", "Biology", "Environmental Science",
                    "Forensics", "Chemistry", "Physics", "Anatomy",
                    "AP Biology", "AP Physics 1", "AP Physics Mechanics"
                ]
            }
        ];

        // Extract data for the first chart (EBR Implementation Percentages)
        const schools = jsonData.map(row => row.school);
        const percentages = jsonData.map(row => row.percentage);

        // Create a bar chart
        const chart1Data = [{
            x: schools,
            y: percentages,
            type: 'bar',
            marker: { color: 'blue' }
        }];

        const chart1Layout = {
            title: 'EBR Implementation Percentages by School',
            xaxis: { title: 'School' },
            yaxis: { title: 'Implementation Percentage' }
        };

        Plotly.newPlot('chart1', chart1Data, chart1Layout);

        // Create a second chart (Number of Courses Implemented)
        const courseCounts = jsonData.map(row => row.courses.length);

        const chart2Data = [{
            x: schools,
            y: courseCounts,
            type: 'bar',
            marker: { color: 'green' }
        }];

        const chart2Layout = {
            title: 'Number of Courses Implemented by School',
            xaxis: { title: 'School' },
            yaxis: { title: 'Number of Courses' }
        };

        Plotly.newPlot('chart2', chart2Data, chart2Layout);

        // Optionally, you could create a third chart to list the courses for each school
        // or display them in another format (like a detailed list).
    </script>
</body>
</html>
