<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Science Dashboard</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css">
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    <link rel="icon" href="path_to_your_favicon.ico" type="image/x-icon"> <!-- Add your custom favicon -->
    <style>
        body {
            background: linear-gradient(to right, #e0f7fa, #e1bee7); /* Gradient background */
            font-family: 'Arial, sans-serif';
        }
        .container {
            max-width: 1000px;
            margin: auto;
            padding: 20px;
        }
        h1, .lead {
            text-align: center;
        }
        #chart1, #chart2 {
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);
            padding: 20px;
            margin-top: 40px;
        }
        @media (max-width: 768px) {
            #chart1, #chart2 {
                width: 100%;
                height: auto;
            }
            h1 {
                font-size: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <img src="path_to_your_logo.png" alt="School Logo" style="height: 80px; display: block; margin: 0 auto;">
        <h1 class="mt-5">Science Dashboard</h1>
        <p class="lead">Displaying data from the Science Dashboard as interactive charts.</p>
        
        <!-- Placeholder for Graphs -->
        <div id="chart1" class="mt-3"></div>
        <div id="chart2" class="mt-3"></div>
    </div>

    <script>
        // Updated JSON data with course lists for hover information
        const jsonData = [
            {
                "school": "Ben Franklin MS",
                "implementedCourses": 3,
                "totalCourses": 3,
                "percentage": 100,
                "courseList": "Science 6, Life Science, Earth Science"
            },
            {
                "school": "CBE MS",
                "implementedCourses": 3,
                "totalCourses": 3,
                "percentage": 100,
                "courseList": "Science 6, Life Science, Earth Science"
            },
            {
                "school": "Discovery MS",
                "implementedCourses": 3,
                "totalCourses": 3,
                "percentage": 100,
                "courseList": "Science 6, Life Science, Earth Science"
            },
            {
                "school": "North HS",
                "implementedCourses": 2,
                "totalCourses": 11,
                "percentage": 18,
                "courseList": "Physical Science, Environmental Science"
            },
            {
                "school": "South HS",
                "implementedCourses": 2,
                "totalCourses": 10,
                "percentage": 20,
                "courseList": "Physical Science, Environmental Science"
            },
            {
                "school": "Davies HS",
                "implementedCourses": 10,
                "totalCourses": 11,
                "percentage": 90,
                "courseList": "Physical Science, Biology, Environmental Science, Forensics, Chemistry, Physics, Anatomy, AP Biology, AP Physics 1, AP Physics Mechanics"
            }
        ];

        // Extract data for the first chart (EBR Implementation Percentages)
        const schools = jsonData.map(row => row.school);
        const percentages = jsonData.map(row => row.percentage);

        // Create a bar chart for EBR Implementation Percentage
        const chart1Data = [{
            x: schools,
            y: percentages,
            type: 'bar',
            marker: {
                color: ['#1f77b4', '#ff7f0e', '#2ca02c', '#d62728', '#9467bd', '#8c564b'],
                line: {
                    color: '#333',
                    width: 1.5
                }
            }
        }];

        const chart1Layout = {
            title: {
                text: 'EBR Implementation Percentages by School',
                font: {
                    family: 'Arial, sans-serif',
                    size: 24,
                    color: '#333'
                }
            },
            xaxis: { title: 'School' },
            yaxis: { title: 'Implementation Percentage' },
            font: {
                family: 'Arial, sans-serif',
                size: 14,
                color: '#333'
            },
            transition: {
                duration: 500,
                easing: 'cubic-in-out'
            }
        };

        Plotly.newPlot('chart1', chart1Data, chart1Layout);

        // Create a grouped bar chart for Implemented vs. Total Courses
        const implementedCourses = jsonData.map(row => row.implementedCourses);
        const totalCourses = jsonData.map(row => row.totalCourses);
        const courseLists = jsonData.map(row => row.courseList);

        const chart2Data = [
            {
                x: schools,
                y: implementedCourses,
                name: 'Implemented Courses',
                type: 'bar',
                marker: {
                    color: 'green'
                },
                text: courseLists,
                hoverinfo: 'text',
                hovertext: courseLists
            },
            {
                x: schools,
                y: totalCourses,
                name: 'Total Courses',
                type: 'bar',
                marker: {
                    color: 'orange'
                }
            }
        ];

        const chart2Layout = {
            title: {
                text: 'Implemented vs. Total Courses by School',
                font: {
                    family: 'Arial, sans-serif',
                    size: 24,
                    color: '#333'
                }
            },
            xaxis: { title: 'School' },
            yaxis: { title: 'Number of Courses' },
            barmode: 'group',
            font: {
                family: 'Arial, sans-serif',
                size: 14,
                color: '#333'
            },
            transition: {
                duration: 500,
                easing: 'cubic-in-out'
            }
        };

        Plotly.newPlot('chart2', chart2Data, chart2Layout);

    </script>
</body>
</html>
